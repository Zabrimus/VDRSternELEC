diff -ru8bBwd a/Makefile b/Makefile
--- a/Makefile	2025-01-20 14:04:03.000000000 +0100
+++ b/Makefile	2025-01-20 19:30:00.595663079 +0100
@@ -1,11 +1,15 @@
 # Thanks to Job Vranish (https://spin.atomicobject.com/2016/08/26/makefile-c-projects/)
 TARGET_EXEC := dash2ts
 
+# use either the default include for KODI addon header files
+# or overwrite the include directory on the command line
+KODI_ADDON_INCLUDE ?= src/addons/kodi-dev-kit/include
+
 BUILD_DIR := ./build
 SRC_DIRS := ./src
 
 LDFLAGS :=  -ltinyxml2 -lcurl -lavformat  -lswresample -lavcodec -lavfilter  -lavutil
 # Find all the C and C++ files we want to compile
 # Note the single quotes around the * expressions. The shell will incorrectly expand these otherwise, but we want to send the * directly to the find command.
 SRCS := $(shell find $(SRC_DIRS) -name '*.cpp' -or -name '*.c' -or -name '*.s')
 
@@ -20,20 +24,18 @@
 		./build/./src/mpegts/ts_packet.cpp.o\
 		./build/./src/mpegts/crc.cpp.o
 
 
 # String substitution (suffix version without %).
 # As an example, ./build/hello.cpp.o turns into ./build/hello.cpp.d
 DEPS := $(OBJS:.o=.d)
 
-# Every folder in ./src will need to be passed to GCC so that it can find header files
-INC_DIRS := $(shell find $(SRC_DIRS) -type d)
 # Add a prefix to INC_DIRS. So moduleA would become -ImoduleA. GCC understands this -I flag
-INC_FLAGS := $(addprefix -I,$(INC_DIRS)) -I./src/kodi-dev-kit/include -I/usr/local/include
+INC_FLAGS := -I$(KODI_ADDON_INCLUDE) -I/usr/local/include
 
 # The -MMD and -MP flags together generate Makefiles for us!
 # These files will have .d instead of .o as the output.
 CPPFLAGS := $(INC_FLAGS) -MMD -MP -ggdb
 
 # The final build step.
 $(BUILD_DIR)/$(TARGET_EXEC): $(OBJS)
 	$(CXX) $(OBJS) -o $@ $(LDFLAGS)
Nur in b: Makefile.orig.
diff -ru8bBwd a/src/curlhandler.h b/src/curlhandler.h
--- a/src/curlhandler.h	2025-01-20 14:04:03.000000000 +0100
+++ b/src/curlhandler.h	2025-01-20 19:30:00.595663079 +0100
@@ -1,11 +1,11 @@
 #include <curl/curl.h>
 #include <string>
-#include "addons/kodi-dev-kit/include/kodi/c-api/filesystem.h"
+#include "kodi/c-api/filesystem.h"
 #include "StringUtils.h"
 
 #define BUFFERMAX 2000000
 #define MAX_INSTANCE 10
 
 typedef std::pair<std::string, std::string> HeaderParamValue;
 typedef std::vector<HeaderParamValue> HeaderParams;
 typedef HeaderParams::iterator HeaderParamsIter;
diff -ru8bBwd a/src/demuxpacket.h b/src/demuxpacket.h
--- a/src/demuxpacket.h	2025-01-20 14:04:03.000000000 +0100
+++ b/src/demuxpacket.h	2025-01-20 19:30:00.595663079 +0100
@@ -3,17 +3,17 @@
  *  This file is part of Kodi - https://kodi.tv
  *
  *  SPDX-License-Identifier: GPL-2.0-or-later
  *  See LICENSES/README.md for more information.
  */
 
 #pragma once
 
-#include "addons/kodi-dev-kit/include/kodi/c-api/addon-instance/inputstream/stream_crypto.h"
+#include "kodi/c-api/addon-instance/inputstream/stream_crypto.h"
 
 #include <string>
 
 //CryptoSession is usually obtained once per stream, but could change if an key expires
 
 enum CryptoSessionSystem : uint8_t
 {
   CRYPTO_SESSION_SYSTEM_NONE,
diff -ru8bBwd a/src/streamplayer.cpp b/src/streamplayer.cpp
--- a/src/streamplayer.cpp	2025-01-20 14:04:03.000000000 +0100
+++ b/src/streamplayer.cpp	2025-01-20 19:31:36.539534566 +0100
@@ -15,21 +15,21 @@
 #include <netdb.h> 
 #include <fcntl.h>
 #include <thread>
 
 
 #include "mpegts/mpegts_muxer.h"
 #include "circular_buffer.hpp"
 
-#include "addons/kodi-dev-kit/include/kodi/versions.h"
-#include "addons/kodi-dev-kit/include/kodi/Filesystem.h"
-#include "addons/kodi-dev-kit/include/kodi/c-api/gui/general.h"
-#include "addons/kodi-dev-kit/include/kodi/c-api/addon_base.h"
-#include "addons/kodi-dev-kit/include/kodi/c-api/addon-instance/inputstream.h"
+#include "kodi/versions.h"
+#include "kodi/Filesystem.h"
+#include "kodi/c-api/gui/general.h"
+#include "kodi/c-api/addon_base.h"
+#include "kodi/c-api/addon-instance/inputstream.h"
 
 extern "C" {
 #include <libavutil/avutil.h>
 #include <libavformat/avformat.h>
 #include <libavfilter/avfilter.h>
 #include <libavcodec/avcodec.h>
 }
 
diff -ru8bBwd a/src/streamplayer.h b/src/streamplayer.h
--- a/src/streamplayer.h	2025-01-20 14:04:03.000000000 +0100
+++ b/src/streamplayer.h	2025-01-20 19:31:20.285772903 +0100
@@ -1,16 +1,16 @@
 #include <stdlib.h>
 #include <string>
 #include <cstring>
 #include <thread>
 #include <sys/socket.h>
 #include <netinet/in.h>
-#include "addons/kodi-dev-kit/include/kodi/c-api/addon_base.h"
-#include "addons/kodi-dev-kit/include/kodi/c-api/addon-instance/inputstream.h"
+#include "kodi/c-api/addon_base.h"
+#include "kodi/c-api/addon-instance/inputstream.h"
 #include "mpegts/mpegts_muxer.h"
 
 
 
 class AddonHandler
 {
     KODI_ADDON_INSTANCE_STRUCT kodi = {};
     AddonGlobalInterface m_interface = {};
